{"version":3,"file":"cart-progress-bar.esm.js","sources":["../src/cart-progress-bar.js"],"sourcesContent":["import \"./cart-progress-bar.scss\";\n\n/**\n * ProgressBar helper class for the visual progress bar element\n */\nclass ProgressBar extends HTMLElement {\n  constructor() {\n    super();\n    this.#setupProgressBar();\n  }\n\n  #setupProgressBar() {\n    this.setAttribute(\"role\", \"progressbar\");\n    this.setAttribute(\"aria-valuemin\", \"0\");\n    this.setAttribute(\"aria-valuemax\", \"100\");\n    this.setAttribute(\"aria-valuenow\", \"0\");\n\n    // Create the visual progress bar\n    this.innerHTML = '<div class=\"progress-bar-fill\"></div>';\n  }\n\n  setPercent(percent) {\n    const clampedPercent = Math.max(0, Math.min(100, percent));\n    this.style.setProperty(\"--cart-progress-percent\", `${clampedPercent}%`);\n    this.setAttribute(\"aria-valuenow\", clampedPercent);\n  }\n}\n\n// Define ProgressBar custom element immediately so it's available for CartProgressBar\ncustomElements.define(\"progress-bar\", ProgressBar);\n\n/**\n * CartProgressBar main component\n */\nclass CartProgressBar extends HTMLElement {\n  // Private fields\n  #minAmount = 0;\n  #currentAmount = 0;\n  #progressPercent = 0;\n  #originalAboveMessage = \"\";\n  #originalBelowMessage = \"\";\n  #progressBar = null;\n  #messageElement = null;\n\n  /**\n   * Define which attributes should be observed for changes\n   */\n  static get observedAttributes() {\n    return [\"threshold\", \"current\", \"message-above\", \"message-below\"];\n  }\n\n  constructor() {\n    super();\n    this.#init();\n  }\n\n  #init() {\n    // Read initial attributes\n    this.#minAmount = parseFloat(this.getAttribute(\"threshold\")) || 0;\n    this.#currentAmount = parseFloat(this.getAttribute(\"current\")) || 0;\n\n    // Store original message templates\n    this.#originalAboveMessage = this.getAttribute(\"message-above\") || \"\";\n    this.#originalBelowMessage = this.getAttribute(\"message-below\") || \"\";\n  }\n\n  async connectedCallback() {\n    // ensure the child custom element has been registered\n    await customElements.whenDefined(\"progress-bar\");\n\n    if (!customElements.get(\"progress-bar\")) {\n      throw new Error(\n        \"<progress-bar> must be registered before <cart-progress-bar> runs\",\n      );\n    }\n\n    this.#render();\n    this.#updateProgress();\n    this.#attachListeners();\n  }\n\n  attributeChangedCallback(name, oldValue, newValue) {\n    if (oldValue === newValue) return;\n\n    switch (name) {\n      case \"threshold\":\n        this.#minAmount = parseFloat(newValue) || 0;\n        this.#updateProgress();\n        break;\n      case \"current\":\n        this.#currentAmount = parseFloat(newValue) || 0;\n        this.#updateProgress();\n        break;\n      case \"message-above\":\n        this.#originalAboveMessage = newValue || \"\";\n        this.#updateMessages();\n        break;\n      case \"message-below\":\n        this.#originalBelowMessage = newValue || \"\";\n        this.#updateMessages();\n        break;\n    }\n  }\n\n  #render() {\n    // Find or create the message element\n    this.#messageElement =\n      this.querySelector(\"[data-content-cart-progress-message]\") ||\n      this.querySelector(\"p[data-content-cart-progress-message]\");\n\n    // Find existing progress bar (user can add their own)\n    this.#progressBar = this.querySelector(\"progress-bar\");\n\n    // Create message element if it doesn't exist but we have message templates\n    if (\n      !this.#messageElement &&\n      (this.#originalAboveMessage || this.#originalBelowMessage)\n    ) {\n      this.#messageElement = document.createElement(\"p\");\n      this.#messageElement.setAttribute(\n        \"data-content-cart-progress-message\",\n        \"\",\n      );\n      this.appendChild(this.#messageElement);\n    }\n\n    // Create progress bar if it doesn't exist - add it at the end (below text message)\n    if (!this.#progressBar) {\n      // Ensure progress-bar is defined before creating\n      if (customElements.get(\"progress-bar\")) {\n        this.#progressBar = document.createElement(\"progress-bar\");\n        this.appendChild(this.#progressBar);\n      } else {\n        // Fallback: wait for definition\n        customElements.whenDefined(\"progress-bar\").then(() => {\n          if (!this.#progressBar) {\n            this.#progressBar = document.createElement(\"progress-bar\");\n            this.appendChild(this.#progressBar);\n            this.#updateProgress(); // Update progress after creating\n          }\n        });\n      }\n    }\n  }\n\n  #updateProgress() {\n    if (this.#minAmount === 0) {\n      this.#progressPercent = 100;\n    } else {\n      this.#progressPercent = Math.min(\n        100,\n        (this.#currentAmount / this.#minAmount) * 100,\n      );\n    }\n\n    // Update progress bar\n    if (this.#progressBar) {\n      this.#progressBar.setPercent(this.#progressPercent);\n    }\n\n    // Update messages\n    this.#updateMessages();\n\n    // Update component state\n    this.#updateComponentState();\n  }\n\n  #attachListeners() {\n    // Find the nearest cart-panel component\n    const cartPanel = this.closest('cart-panel');\n    \n    if (cartPanel) {\n      // Listen for cart data changes\n      cartPanel.addEventListener('cart-dialog:data-changed', (event) => {\n        this.#handleCartDataChange(event);\n      });\n    }\n  }\n\n  #handleCartDataChange(event) {\n    const updatedCart = event.detail;\n    \n    if (updatedCart && typeof updatedCart.total_price !== 'undefined') {\n      // Convert from cents to dollars if needed (Shopify typically returns cents)\n      const currentAmount = updatedCart.total_price / 100;\n      this.setCurrentAmount(currentAmount);\n    }\n  }\n\n  #updateMessages() {\n    const isComplete = this.#currentAmount >= this.#minAmount;\n    const remainingAmount = Math.max(0, this.#minAmount - this.#currentAmount);\n\n    // Format remaining amount as currency (assuming USD for now)\n    const formattedAmount = this.#formatCurrency(remainingAmount);\n\n    // Update the single message element\n    if (this.#messageElement) {\n      let messageTemplate;\n\n      if (isComplete && this.#originalAboveMessage) {\n        // Show success message when complete\n        messageTemplate = this.#originalAboveMessage;\n      } else if (!isComplete) {\n        // Show progress message when incomplete\n        messageTemplate =\n          this.#originalBelowMessage || this.#originalAboveMessage;\n      }\n\n      if (messageTemplate) {\n        const message = messageTemplate.replace(/\\$\\{left\\}/g, formattedAmount);\n        this.#messageElement.textContent = message;\n        this.#messageElement.style.display = \"block\";\n      } else {\n        // Hide message if no template available for current state\n        this.#messageElement.style.display = \"none\";\n      }\n    }\n  }\n\n  #updateComponentState() {\n    const isComplete = this.#currentAmount >= this.#minAmount;\n\n    if (isComplete) {\n      this.setAttribute(\"data-complete\", \"true\");\n      this.removeAttribute(\"data-incomplete\");\n    } else {\n      this.setAttribute(\"data-incomplete\", \"true\");\n      this.removeAttribute(\"data-complete\");\n    }\n\n    // Set progress level classes for styling\n    this.classList.remove(\n      \"progress-low\",\n      \"progress-medium\",\n      \"progress-high\",\n      \"progress-complete\",\n    );\n\n    if (isComplete) {\n      this.classList.add(\"progress-complete\");\n    } else if (this.#progressPercent >= 75) {\n      this.classList.add(\"progress-high\");\n    } else if (this.#progressPercent >= 50) {\n      this.classList.add(\"progress-medium\");\n    } else {\n      this.classList.add(\"progress-low\");\n    }\n  }\n\n  #formatCurrency(amount) {\n    // Basic currency formatting - could be enhanced with locale/currency options\n    return new Intl.NumberFormat(\"en-US\", {\n      style: \"currency\",\n      currency: \"USD\",\n      minimumFractionDigits: 2,\n      maximumFractionDigits: 2,\n    }).format(amount);\n  }\n\n  /**\n   * Public API: Set the progress percentage directly\n   * @param {number} percent - Progress percentage (0-100)\n   */\n  setPercent(percent) {\n    const clampedPercent = Math.max(0, Math.min(100, percent));\n    this.#progressPercent = clampedPercent;\n\n    if (this.#progressBar) {\n      this.#progressBar.setPercent(clampedPercent);\n    }\n\n    // Calculate current amount based on percentage\n    this.#currentAmount = (clampedPercent / 100) * this.#minAmount;\n    this.setAttribute(\"current\", this.#currentAmount.toString());\n\n    this.#updateMessages();\n    this.#updateComponentState();\n  }\n\n  /**\n   * Public API: Set the current cart amount\n   * @param {number} amount - Current cart amount\n   */\n  setCurrentAmount(amount) {\n    this.#currentAmount = parseFloat(amount) || 0;\n    this.setAttribute(\"current\", this.#currentAmount.toString());\n    this.#updateProgress();\n  }\n\n  /**\n   * Public API: Set the threshold amount for free shipping\n   * @param {number} amount - Threshold amount for free shipping\n   */\n  setThresholdAmount(amount) {\n    this.#minAmount = parseFloat(amount) || 0;\n    this.setAttribute(\"threshold\", this.#minAmount.toString());\n    this.#updateProgress();\n  }\n\n  /**\n   * Public API: Set the minimum amount for free shipping (deprecated - use setThresholdAmount)\n   * @param {number} amount - Minimum amount threshold\n   * @deprecated Use setThresholdAmount instead\n   */\n  setMinAmount(amount) {\n    this.setThresholdAmount(amount);\n  }\n\n  /**\n   * Public API: Get current progress information\n   */\n  getProgress() {\n    return {\n      currentAmount: this.#currentAmount,\n      thresholdAmount: this.#minAmount,\n      minAmount: this.#minAmount, // backwards compatibility\n      remainingAmount: Math.max(0, this.#minAmount - this.#currentAmount),\n      percent: this.#progressPercent,\n      isComplete: this.#currentAmount >= this.#minAmount,\n    };\n  }\n\n  /**\n   * Public API: Update message templates\n   * @param {string} aboveMessage - Message template for above the bar\n   * @param {string} belowMessage - Message template for below the bar\n   */\n  setMessages(aboveMessage = null, belowMessage = null) {\n    if (aboveMessage !== null) {\n      this.#originalAboveMessage = aboveMessage;\n      this.setAttribute(\"message-above\", aboveMessage);\n    }\n\n    if (belowMessage !== null) {\n      this.#originalBelowMessage = belowMessage;\n      this.setAttribute(\"message-below\", belowMessage);\n    }\n\n    this.#updateMessages();\n  }\n\n  // Getters\n  get currentAmount() {\n    return this.#currentAmount;\n  }\n  get thresholdAmount() {\n    return this.#minAmount;\n  }\n  get minAmount() {\n    return this.#minAmount;\n  } // backwards compatibility\n  get percent() {\n    return this.#progressPercent;\n  }\n  get isComplete() {\n    return this.#currentAmount >= this.#minAmount;\n  }\n}\n\n// Define CartProgressBar custom element\ncustomElements.define(\"cart-progress-bar\", CartProgressBar);\n\n// Export components for external use\nexport { CartProgressBar, ProgressBar };\n"],"names":[],"mappings":"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"}