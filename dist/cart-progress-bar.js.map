{"version":3,"file":"cart-progress-bar.js","sources":["../src/cart-progress-bar.js"],"sourcesContent":["import \"./cart-progress-bar.scss\";\n\n/**\n * ProgressBar helper class for the visual progress bar element\n */\nclass ProgressBar extends HTMLElement {\n  constructor() {\n    super();\n    this.#setupProgressBar();\n  }\n\n  #setupProgressBar() {\n    this.setAttribute(\"role\", \"progressbar\");\n    this.setAttribute(\"aria-valuemin\", \"0\");\n    this.setAttribute(\"aria-valuemax\", \"100\");\n    this.setAttribute(\"aria-valuenow\", \"0\");\n\n    // Create the visual progress bar\n    this.innerHTML = '<div class=\"progress-bar-fill\"></div>';\n  }\n\n  setPercent(percent) {\n    const clampedPercent = Math.max(0, Math.min(100, percent));\n    this.style.setProperty(\"--cart-progress-percent\", `${clampedPercent}%`);\n    this.setAttribute(\"aria-valuenow\", clampedPercent);\n  }\n}\n\n// Define ProgressBar custom element immediately so it's available for CartProgressBar\ncustomElements.define(\"progress-bar\", ProgressBar);\n\n/**\n * CartProgressBar main component\n */\nclass CartProgressBar extends HTMLElement {\n  // Private fields\n  #minAmount = 0;\n  #currentAmount = 0;\n  #progressPercent = 0;\n  #originalAboveMessage = \"\";\n  #originalBelowMessage = \"\";\n  #progressBar = null;\n  #messageElement = null;\n\n  /**\n   * Define which attributes should be observed for changes\n   */\n  static get observedAttributes() {\n    return [\"threshold\", \"current\", \"message-above\", \"message-below\"];\n  }\n\n  constructor() {\n    super();\n    this.#init();\n  }\n\n  #init() {\n    // Read initial attributes\n    this.#minAmount = parseFloat(this.getAttribute(\"threshold\")) || 0;\n    this.#currentAmount = parseFloat(this.getAttribute(\"current\")) || 0;\n\n    // Store original message templates\n    this.#originalAboveMessage = this.getAttribute(\"message-above\") || \"\";\n    this.#originalBelowMessage = this.getAttribute(\"message-below\") || \"\";\n  }\n\n  async connectedCallback() {\n    // ensure the child custom element has been registered\n    await customElements.whenDefined(\"progress-bar\");\n\n    if (!customElements.get(\"progress-bar\")) {\n      throw new Error(\n        \"<progress-bar> must be registered before <cart-progress-bar> runs\",\n      );\n    }\n\n    this.#render();\n    this.#updateProgress();\n    this.#attachListeners();\n  }\n\n  attributeChangedCallback(name, oldValue, newValue) {\n    if (oldValue === newValue) return;\n\n    switch (name) {\n      case \"threshold\":\n        this.#minAmount = parseFloat(newValue) || 0;\n        this.#updateProgress();\n        break;\n      case \"current\":\n        this.#currentAmount = parseFloat(newValue) || 0;\n        this.#updateProgress();\n        break;\n      case \"message-above\":\n        this.#originalAboveMessage = newValue || \"\";\n        this.#updateMessages();\n        break;\n      case \"message-below\":\n        this.#originalBelowMessage = newValue || \"\";\n        this.#updateMessages();\n        break;\n    }\n  }\n\n  #render() {\n    // Find or create the message element\n    this.#messageElement =\n      this.querySelector(\"[data-content-cart-progress-message]\") ||\n      this.querySelector(\"p[data-content-cart-progress-message]\");\n\n    // Find existing progress bar (user can add their own)\n    this.#progressBar = this.querySelector(\"progress-bar\");\n\n    // Create message element if it doesn't exist but we have message templates\n    if (\n      !this.#messageElement &&\n      (this.#originalAboveMessage || this.#originalBelowMessage)\n    ) {\n      this.#messageElement = document.createElement(\"p\");\n      this.#messageElement.setAttribute(\n        \"data-content-cart-progress-message\",\n        \"\",\n      );\n      this.appendChild(this.#messageElement);\n    }\n\n    // Create progress bar if it doesn't exist - add it at the end (below text message)\n    if (!this.#progressBar) {\n      // Ensure progress-bar is defined before creating\n      if (customElements.get(\"progress-bar\")) {\n        this.#progressBar = document.createElement(\"progress-bar\");\n        this.appendChild(this.#progressBar);\n      } else {\n        // Fallback: wait for definition\n        customElements.whenDefined(\"progress-bar\").then(() => {\n          if (!this.#progressBar) {\n            this.#progressBar = document.createElement(\"progress-bar\");\n            this.appendChild(this.#progressBar);\n            this.#updateProgress(); // Update progress after creating\n          }\n        });\n      }\n    }\n  }\n\n  #updateProgress() {\n    if (this.#minAmount === 0) {\n      this.#progressPercent = 100;\n    } else {\n      this.#progressPercent = Math.min(\n        100,\n        (this.#currentAmount / this.#minAmount) * 100,\n      );\n    }\n\n    // Update progress bar\n    if (this.#progressBar) {\n      this.#progressBar.setPercent(this.#progressPercent);\n    }\n\n    // Update messages\n    this.#updateMessages();\n\n    // Update component state\n    this.#updateComponentState();\n  }\n\n  #attachListeners() {\n    // Find the nearest cart-panel component\n    const cartPanel = this.closest('cart-panel');\n    \n    if (cartPanel) {\n      // Listen for cart data changes\n      cartPanel.addEventListener('cart-dialog:data-changed', (event) => {\n        this.#handleCartDataChange(event);\n      });\n    }\n  }\n\n  #handleCartDataChange(event) {\n    const updatedCart = event.detail;\n    \n    if (updatedCart && typeof updatedCart.total_price !== 'undefined') {\n      // Convert from cents to dollars if needed (Shopify typically returns cents)\n      const currentAmount = updatedCart.total_price / 100;\n      this.setCurrentAmount(currentAmount);\n    }\n  }\n\n  #updateMessages() {\n    const isComplete = this.#currentAmount >= this.#minAmount;\n    const remainingAmount = Math.max(0, this.#minAmount - this.#currentAmount);\n\n    // Format remaining amount as currency (assuming USD for now)\n    const formattedAmount = this.#formatCurrency(remainingAmount);\n\n    // Update the single message element\n    if (this.#messageElement) {\n      let messageTemplate;\n\n      if (isComplete && this.#originalAboveMessage) {\n        // Show success message when complete\n        messageTemplate = this.#originalAboveMessage;\n      } else if (!isComplete) {\n        // Show progress message when incomplete\n        messageTemplate =\n          this.#originalBelowMessage || this.#originalAboveMessage;\n      }\n\n      if (messageTemplate) {\n        const message = messageTemplate.replace(/\\$\\{left\\}/g, formattedAmount);\n        this.#messageElement.textContent = message;\n        this.#messageElement.style.display = \"block\";\n      } else {\n        // Hide message if no template available for current state\n        this.#messageElement.style.display = \"none\";\n      }\n    }\n  }\n\n  #updateComponentState() {\n    const isComplete = this.#currentAmount >= this.#minAmount;\n\n    if (isComplete) {\n      this.setAttribute(\"data-complete\", \"true\");\n      this.removeAttribute(\"data-incomplete\");\n    } else {\n      this.setAttribute(\"data-incomplete\", \"true\");\n      this.removeAttribute(\"data-complete\");\n    }\n\n    // Set progress level classes for styling\n    this.classList.remove(\n      \"progress-low\",\n      \"progress-medium\",\n      \"progress-high\",\n      \"progress-complete\",\n    );\n\n    if (isComplete) {\n      this.classList.add(\"progress-complete\");\n    } else if (this.#progressPercent >= 75) {\n      this.classList.add(\"progress-high\");\n    } else if (this.#progressPercent >= 50) {\n      this.classList.add(\"progress-medium\");\n    } else {\n      this.classList.add(\"progress-low\");\n    }\n  }\n\n  #formatCurrency(amount) {\n    // Basic currency formatting - could be enhanced with locale/currency options\n    return new Intl.NumberFormat(\"en-US\", {\n      style: \"currency\",\n      currency: \"USD\",\n      minimumFractionDigits: 2,\n      maximumFractionDigits: 2,\n    }).format(amount);\n  }\n\n  /**\n   * Public API: Set the progress percentage directly\n   * @param {number} percent - Progress percentage (0-100)\n   */\n  setPercent(percent) {\n    const clampedPercent = Math.max(0, Math.min(100, percent));\n    this.#progressPercent = clampedPercent;\n\n    if (this.#progressBar) {\n      this.#progressBar.setPercent(clampedPercent);\n    }\n\n    // Calculate current amount based on percentage\n    this.#currentAmount = (clampedPercent / 100) * this.#minAmount;\n    this.setAttribute(\"current\", this.#currentAmount.toString());\n\n    this.#updateMessages();\n    this.#updateComponentState();\n  }\n\n  /**\n   * Public API: Set the current cart amount\n   * @param {number} amount - Current cart amount\n   */\n  setCurrentAmount(amount) {\n    this.#currentAmount = parseFloat(amount) || 0;\n    this.setAttribute(\"current\", this.#currentAmount.toString());\n    this.#updateProgress();\n  }\n\n  /**\n   * Public API: Set the threshold amount for free shipping\n   * @param {number} amount - Threshold amount for free shipping\n   */\n  setThresholdAmount(amount) {\n    this.#minAmount = parseFloat(amount) || 0;\n    this.setAttribute(\"threshold\", this.#minAmount.toString());\n    this.#updateProgress();\n  }\n\n  /**\n   * Public API: Set the minimum amount for free shipping (deprecated - use setThresholdAmount)\n   * @param {number} amount - Minimum amount threshold\n   * @deprecated Use setThresholdAmount instead\n   */\n  setMinAmount(amount) {\n    this.setThresholdAmount(amount);\n  }\n\n  /**\n   * Public API: Get current progress information\n   */\n  getProgress() {\n    return {\n      currentAmount: this.#currentAmount,\n      thresholdAmount: this.#minAmount,\n      minAmount: this.#minAmount, // backwards compatibility\n      remainingAmount: Math.max(0, this.#minAmount - this.#currentAmount),\n      percent: this.#progressPercent,\n      isComplete: this.#currentAmount >= this.#minAmount,\n    };\n  }\n\n  /**\n   * Public API: Update message templates\n   * @param {string} aboveMessage - Message template for above the bar\n   * @param {string} belowMessage - Message template for below the bar\n   */\n  setMessages(aboveMessage = null, belowMessage = null) {\n    if (aboveMessage !== null) {\n      this.#originalAboveMessage = aboveMessage;\n      this.setAttribute(\"message-above\", aboveMessage);\n    }\n\n    if (belowMessage !== null) {\n      this.#originalBelowMessage = belowMessage;\n      this.setAttribute(\"message-below\", belowMessage);\n    }\n\n    this.#updateMessages();\n  }\n\n  // Getters\n  get currentAmount() {\n    return this.#currentAmount;\n  }\n  get thresholdAmount() {\n    return this.#minAmount;\n  }\n  get minAmount() {\n    return this.#minAmount;\n  } // backwards compatibility\n  get percent() {\n    return this.#progressPercent;\n  }\n  get isComplete() {\n    return this.#currentAmount >= this.#minAmount;\n  }\n}\n\n// Define CartProgressBar custom element\ncustomElements.define(\"cart-progress-bar\", CartProgressBar);\n\n// Export components for external use\nexport { CartProgressBar, ProgressBar };\n"],"names":[],"mappings":"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"}